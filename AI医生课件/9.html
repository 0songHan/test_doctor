
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="img/logo.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>第九章:系统联调与测试 - AI医生 V3.0</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#91" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="." title="AI医生 V3.0" class="md-header__button md-logo" aria-label="AI医生 V3.0" data-md-component="logo">
      
  <img src="img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AI医生 V3.0
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第九章:系统联调与测试
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
    <img src="assets/images/logo.svg" height="45px" alt="logo">

  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="AI医生 V3.0" class="md-nav__button md-logo" aria-label="AI医生 V3.0" data-md-component="logo">
      
  <img src="img/logo.png" alt="logo">

    </a>
    AI医生 V3.0
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="1.html" class="md-nav__link">
        第一章:背景介绍及AI医生架构
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="2.html" class="md-nav__link">
        第二章:项目工具介绍
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="3.html" class="md-nav__link">
        第三章:neo4j图数据库
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="4.html" class="md-nav__link">
        第四章:离线部分
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="5.html" class="md-nav__link">
        第五章:命名实体审核任务
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="6.html" class="md-nav__link">
        第六章:命名实体识别任务
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="7.html" class="md-nav__link">
        第七章:在线部分
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="8.html" class="md-nav__link">
        第八章:句子主题相关任务
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          第九章:系统联调与测试
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="9.html" class="md-nav__link md-nav__link--active">
        第九章:系统联调与测试
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#91" class="md-nav__link">
    9.1 系统联调与测试
  </a>
  
    <nav class="md-nav" aria-label="9.1 系统联调与测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 管理系统在线部分服务
  </a>
  
    <nav class="md-nav" aria-label="1 管理系统在线部分服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-werobot" class="md-nav__link">
    1.1 配置werobot服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2 配置主要逻辑服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3 配置句子相关模型服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-redis" class="md-nav__link">
    1.4 配置redis服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-neo4j" class="md-nav__link">
    1.5 配置neo4j
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-supervisord" class="md-nav__link">
    1.6 supervisord使用
  </a>
  
    <nav class="md-nav" aria-label="1.6 supervisord使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    1 启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 查看服务状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-supervisord" class="md-nav__link">
    3 supervisord相关命令
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2 进行测试
  </a>
  
    <nav class="md-nav" aria-label="2 进行测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 第一步：测试说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 第二步：添加打印测试内容
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 第三步：重新启动主要逻辑服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 第四步：进行数据流测试并查看打印日志
  </a>
  
    <nav class="md-nav" aria-label="2.4 第四步：进行数据流测试并查看打印日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-1" class="md-nav__link">
    1 测试请求1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2" class="md-nav__link">
    2 测试请求2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="10.html" class="md-nav__link">
        附录:环境安装部署手册
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#91" class="md-nav__link">
    9.1 系统联调与测试
  </a>
  
    <nav class="md-nav" aria-label="9.1 系统联调与测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1 管理系统在线部分服务
  </a>
  
    <nav class="md-nav" aria-label="1 管理系统在线部分服务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-werobot" class="md-nav__link">
    1.1 配置werobot服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2 配置主要逻辑服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3 配置句子相关模型服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-redis" class="md-nav__link">
    1.4 配置redis服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-neo4j" class="md-nav__link">
    1.5 配置neo4j
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-supervisord" class="md-nav__link">
    1.6 supervisord使用
  </a>
  
    <nav class="md-nav" aria-label="1.6 supervisord使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    1 启动
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2 查看服务状态
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-supervisord" class="md-nav__link">
    3 supervisord相关命令
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2 进行测试
  </a>
  
    <nav class="md-nav" aria-label="2 进行测试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    2.1 第一步：测试说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 第二步：添加打印测试内容
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 第三步：重新启动主要逻辑服务
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 第四步：进行数据流测试并查看打印日志
  </a>
  
    <nav class="md-nav" aria-label="2.4 第四步：进行数据流测试并查看打印日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-1" class="md-nav__link">
    1 测试请求1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2" class="md-nav__link">
    2 测试请求2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>第九章:系统联调与测试</h1>

<h2 id="91">9.1 系统联调与测试<a class="headerlink" href="#91" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>学习目标：</p>
<ul>
<li>掌握如何启动系统在线部分的服务。</li>
<li>掌握对运行服务分别进行测试的过程。</li>
</ul>
</li>
<li>
<p>系统架构图：</p>
</li>
</ul>
<p><img style="margin: 0px 30px 0px -30px" src="./img/doctorAI_online.png"></p>
<ul>
<li>系统在线部分的主要服务：<ul>
<li>werobot服务</li>
<li>主要逻辑服务</li>
<li>句子相关模型服务</li>
<li>redis服务(会话管理)</li>
<li>neo4j服务(图数据查询)</li>
</ul>
</li>
</ul>
<p>说明：系统联调与测试是对系统在线部分服务的联调与测试，不包含离线部分的内容。</p>
<h3 id="1">1 管理系统在线部分服务<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>通过supervisord管理以下服务</p>
<ul>
<li>werobot服务</li>
<li>主要逻辑服务</li>
<li>句子相关模型服务</li>
<li>redis服务</li>
<li>neo4j服务</li>
</ul>
<h4 id="11-werobot">1.1 配置werobot服务<a class="headerlink" href="#11-werobot" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c"># 在/etc/supervisord.conf中添加以下配置，其中/root/xxx/为项目实际根目录</span><span class="w"></span>
<span class="c"># /path/to/python是在虚拟环境下通过 which python 命令查找到的python真实路径</span><span class="w"></span>
<span class="c"># 例如 /root/anaconda3/envs/ai_doctor/bin/python</span><span class="w"></span>
<span class="c"># /path/to/gunicorn是在虚拟环境下通过 which gunicorn 命令查找到的gunicorn真实路径</span><span class="w"></span>
<span class="c"># 例如/root/anaconda3/envs/ai_doctor/bin/gunicorn</span><span class="w"></span>
<span class="na">[program</span><span class="o">:</span><span class="s">werobot]</span><span class="w"></span>
<span class="na">command</span><span class="o">=</span><span class="s">/path/to/gunicorn -w 1 wr:robot.wsgi </span><span class="w"></span>
<span class="na">directory</span><span class="o">=</span><span class="s">/root/xxx/</span><span class="w"></span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">QUIT</span><span class="w"></span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/var/log/werobot_out</span><span class="w"></span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/var/log/werobot_error</span><span class="w"></span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
</code></pre></div>
<h4 id="12">1.2 配置主要逻辑服务<a class="headerlink" href="#12" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c"># 在/etc/supervisord.conf中添加以下配置，其中/root/xxx/为项目实际根目录</span><span class="w"></span>
<span class="c"># /path/to/gunicorn是在虚拟环境下通过 which gunicorn 命令查找到的gunicorn真实路径</span><span class="w"></span>
<span class="c"># 例如/root/anaconda3/envs/ai_doctor/bin/gunicorn</span><span class="w"></span>
<span class="na">[program</span><span class="o">:</span><span class="s">main_serve]</span><span class="w"></span>
<span class="na">command</span><span class="o">=</span><span class="s">/path/to/gunicorn -w 1 -b 0.0.0.0:5000 app:app</span><span class="w"></span>
<span class="na">directory</span><span class="o">=</span><span class="s">/root/xxx/doctor_online/main_serve</span><span class="w"></span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">QUIT</span><span class="w"></span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/var/log/main_serve_out</span><span class="w"></span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/var/log/main_serve_error</span><span class="w"></span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
</code></pre></div>
<h4 id="13">1.3 配置句子相关模型服务<a class="headerlink" href="#13" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c"># 在/etc/supervisord.conf中添加以下配置，其中/root/xxx/为项目实际根目录</span><span class="w"></span>
<span class="c"># /path/to/gunicorn是在虚拟环境下通过 which gunicorn 命令查找到的gunicorn真实路径</span><span class="w"></span>
<span class="na">[program</span><span class="o">:</span><span class="s">bert_serve]</span><span class="w"></span>
<span class="na">command</span><span class="o">=</span><span class="s">/path/to/gunicorn -w 1 -b 0.0.0.0:5001 app:app</span><span class="w"></span>
<span class="na">directory</span><span class="o">=</span><span class="s">/root/xxx/doctor_online/bert_serve</span><span class="w"></span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">QUIT</span><span class="w"></span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span><span class="w"></span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/var/log/bert_serve_out</span><span class="w"></span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/var/log/bert_serve_error</span><span class="w"></span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span><span class="w"></span>
</code></pre></div>
<h4 id="14-redis">1.4 配置redis服务<a class="headerlink" href="#14-redis" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="na">[program</span><span class="o">:</span><span class="s">redis]</span><span class="w"></span>
<span class="na">command</span><span class="o">=</span><span class="s">redis-server </span><span class="w"></span>
</code></pre></div>
<h4 id="15-neo4j">1.5 配置neo4j<a class="headerlink" href="#15-neo4j" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c"># 注意配置neo4j需要修改/var/log/neo4j/和/var/lib/neo4j目录属组，否则无法启动</span><span class="w"></span>
<span class="c"># chown -R neo4j:neo4j /var/log/neo4j</span><span class="w"></span>
<span class="c"># chown -R neo4j:neo4j /var/lib/neo4j</span><span class="w"></span>
<span class="na">[program</span><span class="o">:</span><span class="s">neo4j]</span><span class="w"></span>
<span class="na">command</span><span class="o">=</span><span class="s">neo4j console</span><span class="w"></span>
<span class="na">user</span><span class="o">=</span><span class="s">neo4j</span><span class="w"></span>
<span class="na">autostart</span><span class="o">=</span><span class="s">true</span><span class="w"></span>
<span class="na">autorestart</span><span class="o">=</span><span class="s">unexpected</span><span class="w"></span>
<span class="na">startsecs</span><span class="o">=</span><span class="s">30</span><span class="w"></span>
<span class="na">startretries</span><span class="o">=</span><span class="s">999</span><span class="w"></span>
<span class="na">priorities</span><span class="o">=</span><span class="s">90</span><span class="w"></span>
<span class="na">exitcodes</span><span class="o">=</span><span class="s">0,1,2</span><span class="w"></span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">SIGTERM</span><span class="w"></span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">true</span><span class="w"></span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">true</span><span class="w"></span>
<span class="na">redirect_stderr</span><span class="o">=</span><span class="s">true</span><span class="w"></span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/var/log/neo4j/neo4j_supervisor.out</span><span class="w"></span>
<span class="na">stdout_logfile_backups</span><span class="o">=</span><span class="s">10</span><span class="w"></span>
<span class="na">stderr_capture_maxbytes</span><span class="o">=</span><span class="s">20MB</span><span class="w"></span>
</code></pre></div>
<h4 id="16-supervisord">1.6 supervisord使用<a class="headerlink" href="#16-supervisord" title="Permanent link">&para;</a></h4>
<h5 id="1_1">1 启动<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h5>
<p>两种方式启动supervisord</p>
<p>1 如果配置文件在/etc/supervisord.conf，可以直接使用系统命令启动supervisord服务</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 启动，启动时会同时启动管理的任务</span>
systemctl start supervisord

<span class="c1"># 停止，停止时会同时停止管理的任务</span>
systemctl stop supervisord

<span class="c1"># 可以设置开机启动</span>
systemctl <span class="nb">enable</span> supervisord
<span class="c1"># 取消开机启动</span>
systemctl disable supervisord

<span class="c1"># 注意，使用supervisord管理neo4j需要取消neo4j开机启动，否则会和suporvisord冲突。</span>
systemctl disable neo4j
</code></pre></div>
<p>2 如果配置文件在项目路径下，则需要手动启动supervisord服务</p>
<div class="highlight"><pre><span></span><code><span class="c"># 使用supervisord命令，读取指定目录下的配置文件</span><span class="w"></span>
<span class="err">supervisord</span><span class="w"> </span><span class="err">-c</span><span class="w"> </span><span class="err">/path/to/supervisord.conf</span><span class="w"></span>

<span class="c"># 同时取消开机启动</span><span class="w"></span>
<span class="err">systemctl</span><span class="w"> </span><span class="err">disable</span><span class="w"> </span><span class="err">supervisord</span><span class="w"></span>
</code></pre></div>
<h5 id="2">2 查看服务状态<a class="headerlink" href="#2" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>supervisorctl status all
</code></pre></div>
<p>输出效果：</p>
<div class="highlight"><pre><span></span><code>bert_serve                       RUNNING   pid <span class="m">29686</span>, uptime <span class="m">0</span>:12:10
main_serve                       RUNNING   pid <span class="m">29685</span>, uptime <span class="m">0</span>:12:10
neo4j                            RUNNING   pid <span class="m">29689</span>, uptime <span class="m">0</span>:12:10
redis                            RUNNING   pid <span class="m">29687</span>, uptime <span class="m">0</span>:12:10
werobot                          RUNNING   pid <span class="m">29688</span>, uptime <span class="m">0</span>:12:10
</code></pre></div>
<h5 id="3-supervisord">3 supervisord相关命令<a class="headerlink" href="#3-supervisord" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>supervisorctl <span class="c1"># 该命令进入supervisord命令行</span>
<span class="c1"># 在supervisord命令行中输入</span>
status <span class="c1"># 查看管理服务状态</span>
stop xxx <span class="c1"># 关闭xxx服务</span>
start xxx <span class="c1"># 启动xxx服务</span>
</code></pre></div>
<p>通过端口查看服务进程</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 通过yum安装lsof命令</span>
sudo yum install lsof -y

<span class="c1"># 查看5000 5001端口的进程</span>
lsof -i:5000
lsof -i:5001
</code></pre></div>
<h3 id="2_1">2 进行测试<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<ul>
<li>第一步：明确测试说明。</li>
<li>第二步：添加打印测试内容。</li>
<li>第三步：重新启动主要逻辑服务。</li>
<li>第四步：进行数据流测试并查看打印日志。</li>
</ul>
<h4 id="21">2.1 第一步：测试说明<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<p>因为主要逻辑服务是所有在线服务的中心服务(该服务将接收或发送请求给其他服务), 因此我们的测试打印信息都在主要逻辑服务中进行。</p>
<h4 id="22">2.2 第二步：添加打印测试内容<a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Handler</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;主要逻辑服务的处理类&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uid</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">reply</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param uid: 用户唯一标示uid</span>
<span class="sd">        :param text: 该用户本次输入的文本</span>
<span class="sd">        :param r: redis数据库的连接对象</span>
<span class="sd">        :param reply: 规则对话模版加载到内存的对象(字典)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">uid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reply</span> <span class="o">=</span> <span class="n">reply</span>

    <span class="k">def</span> <span class="nf">non_first_sentence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">previous</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        description: 非首句处理函数</span>
<span class="sd">        :param previous: 该用户当前句(输入文本)的上一句文本</span>
<span class="sd">        :return: 根据逻辑图返回非首句情况下的输出语句</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 尝试请求模型服务，若失败则打印错误结果</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明已经进入非首句处理函数。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;准备请求句子相关模型服务!&quot;</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;text1&quot;</span><span class="p">:</span> <span class="n">previous</span><span class="p">,</span> <span class="s2">&quot;text2&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">}</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">model_serve_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="k">return</span> <span class="n">unit_chat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="c1">###################################################</span>
            <span class="c1"># 能够打印该信息，说明句子相关模型服务请求成功。</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;句子相关模型服务请求成功，返回结果为：&quot;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="c1">###################################################</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;模型服务异常：&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">unit_chat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明开始准备请求neo4j查询服务。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;请求模型服务后，准备请求neo4j查询服务!&quot;</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 继续查询图数据库，并获得结果</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">query_neo4j</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明neo4j查询成功。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;neo4j查询服务请求成功，返回结果：&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 判断结果为空列表，则直接使用UnitAPI返回</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span> <span class="k">return</span> <span class="n">unit_chat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1"># 若结果不为空，获取上一次已回复的疾病old_disease</span>
        <span class="n">old_disease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">hget</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span> <span class="s2">&quot;previous_d&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old_disease</span><span class="p">:</span>
            <span class="c1"># new_disease是本次需要存储的疾病，是已经存储的疾病与本次查询到疾病的并集</span>
            <span class="n">new_disease</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">old_disease</span><span class="p">)))</span>
            <span class="c1"># res是需要返回的疾病，是本次查询到的疾病与已经存储的疾病的差集</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">old_disease</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># 如果old_disease为空，则它们相同都是本次查询结果s</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">new_disease</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>

        <span class="c1"># 存储new_disease覆盖之前的old_disease</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">hset</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span> <span class="s2">&quot;previous_d&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">new_disease</span><span class="p">))</span>
        <span class="c1"># 设置过期时间</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span> <span class="n">ex_time</span><span class="p">)</span>
        <span class="c1"># 将列表转化为字符串，添加到规则对话模版中返回</span>
        <span class="n">res</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明neo4j查询后有结果并将使用规则对话模版。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;使用规则对话模版进行返回对话的生成!&quot;</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;###################################################&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reply</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">]</span> <span class="o">%</span><span class="n">res</span>

    <span class="k">def</span> <span class="nf">first_sentence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;首句处理函数&quot;&quot;&quot;</span>
        <span class="c1"># 直接查询图数据库，并获得结果</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明进入了首句处理函数并马上进行neo4j查询</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;该用户近期首次发言，不必请求模型服务，准备请求neo4j查询服务!&quot;</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">query_neo4j</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明已经完成neo4j查询。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;neo4j查询服务请求成功，返回结果为：&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 判断结果为空列表，则直接使用UnitAPI返回</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span> <span class="k">return</span> <span class="n">unit_chat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1"># 将s存储为&quot;上一次返回的疾病&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">hset</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span> <span class="s2">&quot;previous_d&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="c1"># 设置过期时间</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">expire</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">),</span> <span class="n">ex_time</span><span class="p">)</span>
        <span class="c1"># 将列表转化为字符串，添加到规则对话模版中返回</span>
        <span class="n">res</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="c1"># 能够打印该信息，说明neo4j查询后有结果并将使用规则对话模版。</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;使用规则对话生成模版进行返回对话的生成!&quot;</span><span class="p">)</span>
        <span class="c1">###################################################</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;###################################################&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">reply</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">]</span> <span class="o">%</span><span class="n">res</span>



<span class="c1"># 设定主要逻辑服务的路由和请求方法</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/v1/main_serve/&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">main_serve</span><span class="p">():</span>
    <span class="c1">###################################################</span>
    <span class="c1"># 能够打印该信息，说明werobot服务发送请求成功。</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;已经进入主要逻辑服务，werobot服务运行正常!&quot;</span><span class="p">)</span>
    <span class="c1">###################################################</span>
    <span class="c1"># 接收来自werobot服务的字段</span>
    <span class="n">uid</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;uid&#39;</span><span class="p">]</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span>
    <span class="c1"># 从redis连接池中获得一个活跃连接</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span><span class="n">connection_pool</span><span class="o">=</span><span class="n">pool</span><span class="p">)</span>
    <span class="c1"># 根据该uid获取他的上一句话(可能不存在)</span>
    <span class="n">previous</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">hget</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">uid</span><span class="p">),</span> <span class="s2">&quot;previous&quot;</span><span class="p">)</span>
    <span class="c1"># 将当前输入的文本设置成上一句</span>
    <span class="n">r</span><span class="o">.</span><span class="n">hset</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">uid</span><span class="p">),</span> <span class="s2">&quot;previous&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="c1">###################################################</span>
    <span class="c1"># 能够打印该信息，说明redis能够正常读取和写入数据。</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;已经完成初次会话管理，redis运行正常!&quot;</span><span class="p">)</span>
    <span class="c1">###################################################</span>
    <span class="c1"># 读取规则对话模版内容到内存</span>
    <span class="n">reply</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">reply_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">))</span>
    <span class="c1"># 实例化主要逻辑处理对象</span>
    <span class="n">handler</span> <span class="o">=</span> <span class="n">Handler</span><span class="p">(</span><span class="n">uid</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">reply</span><span class="p">)</span>
    <span class="c1"># 如果previous存在，说明不是第一句话</span>
    <span class="k">if</span> <span class="n">previous</span><span class="p">:</span>
        <span class="c1"># 调用non_first_sentence方法</span>
        <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">non_first_sentence</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># 否则调用first_sentence()方法</span>
        <span class="k">return</span> <span class="n">handler</span><span class="o">.</span><span class="n">first_sentence</span><span class="p">()</span>
</code></pre></div>
<blockquote>
<ul>
<li>代码位置：/data/doctor_online/main_serve/app.py</li>
</ul>
</blockquote>
<h4 id="23">2.3 第三步：重新启动主要逻辑服务<a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>supervisorctl restart all
</code></pre></div>
<h4 id="24">2.4 第四步：进行数据流测试并查看打印日志<a class="headerlink" href="#24" title="Permanent link">&para;</a></h4>
<h5 id="1-1">1 测试请求1<a class="headerlink" href="#1-1" title="Permanent link">&para;</a></h5>
<p>用户关注公众号后首次发送一些症状描述。</p>
<ul>
<li>对应数据流：</li>
<li>
<p>werobot服务&rarr;请求主要逻辑服务&rarr;主要逻辑服务中请求redis服务&rarr;请求neo4j查询服务&rarr;使用规则对话模版/UnitAPI.</p>
</li>
<li>
<p>对应操作：</p>
</li>
<li>
<p>关注公众号(使用新用户), 发送"我最近有些腹痛".</p>
</li>
<li>
<p>查看主要逻辑服务日志：</p>
<div class="highlight"><pre><span></span><code>cat /var/log/main_server_out
</code></pre></div>
</li>
<li>
<p>日志打印结果：</p>
<div class="highlight"><pre><span></span><code><span class="c1">## 打印如下结果说明测试成功!</span>
已经进入主要逻辑服务，werobot服务运行正常!
已经完成初次会话管理，redis运行正常!
该用户近期首次发言，不必请求模型服务，准备请求neo4j查询服务!
neo4j查询服务请求成功，返回结果为：<span class="o">[</span><span class="s1">&#39;癫痫&#39;</span>, <span class="s1">&#39;小儿糖尿病&#39;</span>, <span class="s1">&#39;肾上腺危象&#39;</span>, <span class="s1">&#39;异位急性阑尾炎&#39;</span>, <span class="s1">&#39;急性胆囊炎&#39;</span><span class="o">]</span>
使用规则对话模版进行返回生成的对话!
</code></pre></div>
</li>
</ul>
<h5 id="2-2">2 测试请求2<a class="headerlink" href="#2-2" title="Permanent link">&para;</a></h5>
<p>首次发送后用户继续发送一些症状描述。</p>
<ul>
<li>对应数据流：</li>
<li>
<p>werobot服务&rarr;请求主要逻辑服务&rarr;主要逻辑服务中请求redis服务&rarr;请求句子相关模型服务&rarr;请求neo4j查询服务&rarr;使用规则对话模版/UnitAPI.</p>
</li>
<li>
<p>对应操作：</p>
</li>
<li>
<p>发送"我最近有些腹痛"后，继续发送"并且左腹部有一些红点".</p>
</li>
<li>
<p>查看主要逻辑服务日志：</p>
<div class="highlight"><pre><span></span><code>cat /var/log/main_server_out
</code></pre></div>
</li>
<li>
<p>日志打印结果：</p>
<div class="highlight"><pre><span></span><code><span class="c1">## 打印如下结果说明测试成功!(使用UnitAPI返回结果)</span>
已经进入主要逻辑服务，werobot服务运行正常!
已经完成初次会话管理，redis运行正常!
准备请求句子相关模型服务!
句子相关模型服务请求成功，返回结果为：1
请求模型服务后，准备请求neo4j查询服务!
neo4j查询服务请求成功，返回结果：<span class="o">[]</span>
</code></pre></div>
</li>
<li>
<p>注意：打印日志若不能即时出现，重新启动主要逻辑服务即可。 </p>
</li>
</ul>
<p>本章总结：</p>
<ul>
<li>
<p>学习了掌握如何启动系统在线部分的服务：</p>
<ul>
<li>
<p>以挂起的方式启动werobot服务</p>
</li>
<li>
<p>使用supervisor启动主要逻辑服务及其redis服务</p>
</li>
<li>
<p>以挂起的方式启动子相关模型服务</p>
</li>
<li>
<p>启动和查看neo4j服务(默认已启动)</p>
</li>
</ul>
</li>
<li>
<p>学习了如何进行测试：</p>
<ul>
<li>
<p>第一步：明确测试说明。</p>
</li>
<li>
<p>第二步：添加打印测试内容。</p>
</li>
<li>
<p>第三步：重新启动主要逻辑服务。</p>
</li>
<li>
<p>第四步：进行数据流测试并查看打印日志。</p>
</li>
</ul>
</li>
</ul>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
        
        <a href="8.html" class="md-footer__link md-footer__link--prev" aria-label="上一页: 第八章:句子主题相关任务" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              第八章:句子主题相关任务
            </div>
          </div>
        </a>
      
      
        
        <a href="10.html" class="md-footer__link md-footer__link--next" aria-label="下一页: 附录:环境安装部署手册" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              附录:环境安装部署手册
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "search": "assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="assets/javascripts/bundle.1514a9a0.min.js"></script>
      
        <script src="js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>